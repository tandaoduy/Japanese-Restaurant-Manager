@{
    ViewBag.Title = "Trang chủ - Nhà hàng Nhật";
}

<section id="home" class="relative h-screen overflow-hidden">
    <style>
        /* Sửa lỗi: Đảm bảo chuyển đổi visibility diễn ra đồng bộ với opacity */
        .carousel-container {
            position: relative;
            width: 100%;
            height: 100%;
            overflow: hidden;
        }

        .carousel-slide {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            opacity: 0;
            visibility: hidden;
            /* Khi ẩn: opacity chuyển về 0 trong 1.5s, sau đó visibility chuyển sang hidden */
            transition: opacity 1.5s ease-in-out, visibility 0s 1.5s;
            z-index: 1;
        }

            .carousel-slide.active {
                opacity: 1;
                visibility: visible;
                /* Khi hiện: visibility chuyển ngay lập tức, opacity chuyển trong 1.5s */
                transition: opacity 1.5s ease-in-out, visibility 0s 0s;
                z-index: 10;
            }

            .carousel-slide img {
                width: 100%;
                height: 100%;
                object-fit: cover;
                display: block;
            }
             
        .carousel-indicator {
            cursor: pointer;
            transition: all 0.3s ease;
            border: 2px solid white;
        }

            .carousel-indicator.active {
                background-color: white !important;
                transform: scale(1.3);
            }

            .carousel-indicator:hover {
                transform: scale(1.2);
                background-color: rgba(255, 255, 255, 0.8) !important;
            }
    </style>
    <div class="carousel-container relative h-full">
        <div class="carousel-slide active">
            <img src="@Url.Content("~/Images/slide01.jpg")" alt="Sushi tươi ngon" class="w-full h-full object-cover">
            <div class="absolute inset-0 bg-gradient-to-t from-black via-black/50 to-transparent"></div>
            <div class="absolute inset-0 flex items-center">
                <div class="container mx-auto px-6">
                <div class="text-left text-white max-w-4xl">
                    <h2 class="text-6xl md:text-8xl font-display font-bold mb-6 animate-fade-in" style="text-shadow: 2px 4px 8px rgba(0,0,0,0.5);">
                        Chào mừng đến SAKURA KAZOKU
                    </h2>
                    <p class="text-2xl md:text-4xl font-light">Nơi hội tụ tinh hoa ẩm thực Nhật Bản</p>
                </div>
                </div>
            </div>
        </div>

        <div class="carousel-slide">
            <img src="@Url.Content("~/Images/slide02.jpg")" alt="Ramen đặc biệt" class="w-full h-full object-cover">
            <div class="absolute inset-0 bg-gradient-to-t from-black via-black/50 to-transparent"></div>
            <div class="absolute inset-0 flex items-center">
                <div class="container mx-auto px-6">
                <div class="text-left text-white max-w-4xl">
                    <h2 class="text-6xl md:text-8xl font-display font-bold mb-6" style="text-shadow: 2px 4px 8px rgba(0,0,0,0.5);">
                        Món ngon mỗi ngày
                    </h2>
                    <p class="text-2xl md:text-4xl font-light">Được chế biến bởi đầu bếp tài năng</p>
                </div>
                </div>
            </div>
        </div>

        <div class="carousel-slide">
            <img src="@Url.Content("~/Images/slide03.jpg")" alt="Tempura giòn rụm" class="w-full h-full object-cover">
            <div class="absolute inset-0 bg-gradient-to-t from-black via-black/50 to-transparent"></div>
            <div class="absolute inset-0 flex items-center">
                <div class="container mx-auto px-6">
                <div class="text-left text-white max-w-4xl">
                    <h2 class="text-6xl md:text-8xl font-display font-bold mb-6" style="text-shadow: 2px 4px 8px rgba(0,0,0,0.5);">
                        Nguyên liệu tươi ngon
                    </h2>
                    <p class="text-2xl md:text-4xl font-light">Nhập khẩu trực tiếp từ Nhật Bản</p>
                </div>
                </div>
            </div>
        </div>

        <div class="carousel-slide">
            <img src="@Url.Content("~/Images/slide04.jpg")" alt="Sashimi cao cấp" class="w-full h-full object-cover">
            <div class="absolute inset-0 bg-gradient-to-t from-black via-black/50 to-transparent"></div>
            <div class="absolute inset-0 flex items-center">
                <div class="container mx-auto px-6">
                <div class="text-left text-white max-w-4xl">
                    <h2 class="text-6xl md:text-8xl font-display font-bold mb-6" style="text-shadow: 2px 4px 8px rgba(0,0,0,0.5);">
                        Hương vị đích thực
                    </h2>
                    <p class="text-2xl md:text-4xl font-light">Trải nghiệm ẩm thực Nhật Bản chính gốc</p>
                </div>
                </div>
            </div>
        </div>

        <div class="carousel-slide">
            <img src="@Url.Content("~/Images/slide05.jpg")" alt="Bento box" class="w-full h-full object-cover">
            <div class="absolute inset-0 bg-gradient-to-t from-black via-black/50 to-transparent"></div>
            <div class="absolute inset-0 flex items-center">
                <div class="container mx-auto px-6">
                <div class="text-left text-white max-w-4xl">
                    <h2 class="text-6xl md:text-8xl font-display font-bold mb-6" style="text-shadow: 2px 4px 8px rgba(0,0,0,0.5);">
                        Đặt bàn dễ dàng
                    </h2>
                    <p class="text-2xl md:text-4xl font-light">Phục vụ tận tâm, không gian sang trọng</p>
                </div>
                </div>
            </div>
        </div>

        <div class="carousel-slide">
            <img src="@Url.Content("~/Images/slide06.jpg")" alt="Không gian nhà hàng" class="w-full h-full object-cover">
            <div class="absolute inset-0 bg-gradient-to-t from-black via-black/50 to-transparent"></div>
            <div class="absolute inset-0 flex items-center">
                <div class="container mx-auto px-6">
                <div class="text-left text-white max-w-4xl">
                    <h2 class="text-6xl md:text-8xl font-display font-bold mb-6" style="text-shadow: 2px 4px 8px rgba(0,0,0,0.5);">
                        Không gian ấm cúng
                    </h2>
                    <p class="text-2xl md:text-4xl font-light">Thiết kế theo phong cách Nhật Bản truyền thống</p>
                </div>
                </div>
            </div>
        </div>

        <div class="carousel-slide">
            <img src="@Url.Content("~/Images/slide07.jpg")" alt="Đầu bếp chuyên nghiệp" class="w-full h-full object-cover">
            <div class="absolute inset-0 bg-gradient-to-t from-black via-black/50 to-transparent"></div>
            <div class="absolute inset-0 flex items-center">
                <div class="container mx-auto px-6">
                <div class="text-left text-white max-w-4xl">
                    <h2 class="text-6xl md:text-8xl font-display font-bold mb-6" style="text-shadow: 2px 4px 8px rgba(0,0,0,0.5);">
                        Đội ngũ chuyên nghiệp
                    </h2>
                    <p class="text-2xl md:text-4xl font-light">Phục vụ với tất cả tâm huyết và đam mê</p>
                </div>
                </div>
            </div>
        </div>

        <div class="carousel-slide">
            <img src="@Url.Content("~/Images/slide08.jpg")" alt="Không gian sang trọng" class="w-full h-full object-cover">
            <div class="absolute inset-0 bg-gradient-to-t from-black via-black/50 to-transparent"></div>
            <div class="absolute inset-0 flex items-center">
                <div class="container mx-auto px-6">
                <div class="text-left text-white max-w-4xl">
                    <h2 class="text-6xl md:text-8xl font-display font-bold mb-6" style="text-shadow: 2px 4px 8px rgba(0,0,0,0.5);">
                        Không gian sang trọng
                    </h2>
                    <p class="text-2xl md:text-4xl font-light">Trải nghiệm ẩm thực đẳng cấp</p>
                </div>
                </div>
            </div>
        </div>

        <div class="carousel-slide">
            <img src="@Url.Content("~/Images/slide09.jpg")" alt="Dịch vụ tận tâm" class="w-full h-full object-cover">
            <div class="absolute inset-0 bg-gradient-to-t from-black via-black/50 to-transparent"></div>
            <div class="absolute inset-0 flex items-center">
                <div class="container mx-auto px-6">
                <div class="text-left text-white max-w-4xl">
                    <h2 class="text-6xl md:text-8xl font-display font-bold mb-6" style="text-shadow: 2px 4px 8px rgba(0,0,0,0.5);">
                        Dịch vụ tận tâm
                    </h2>
                    <p class="text-2xl md:text-4xl font-light">Mang đến trải nghiệm tuyệt vời nhất</p>
                </div>
                </div>
            </div>
        </div>

        <div class="absolute bottom-8 left-1/2 transform -translate-x-1/2 flex space-x-3 z-20">
            <button onclick="goToSlide(0)" class="carousel-indicator w-3 h-3 rounded-full bg-white/50"></button>
            <button onclick="goToSlide(1)" class="carousel-indicator w-3 h-3 rounded-full bg-white/50"></button>
            <button onclick="goToSlide(2)" class="carousel-indicator w-3 h-3 rounded-full bg-white/50"></button>
            <button onclick="goToSlide(3)" class="carousel-indicator w-3 h-3 rounded-full bg-white/50"></button>
            <button onclick="goToSlide(4)" class="carousel-indicator w-3 h-3 rounded-full bg-white/50"></button>
            <button onclick="goToSlide(5)" class="carousel-indicator w-3 h-3 rounded-full bg-white/50"></button>
            <button onclick="goToSlide(6)" class="carousel-indicator w-3 h-3 rounded-full bg-white/50"></button>
            <button onclick="goToSlide(7)" class="carousel-indicator w-3 h-3 rounded-full bg-white/50"></button>
            <button onclick="goToSlide(8)" class="carousel-indicator w-3 h-3 rounded-full bg-white/50"></button>
        </div>
    </div>
    </section>


<style>
    /* Category Filter Styles */
    .category-scroll-container {
        display: flex;
        gap: 1.5rem;
        padding: 1rem 0.5rem;
        overflow-x: auto;
        scrollbar-width: none;
        justify-content: center;
        flex-wrap: wrap;
    }

        .category-scroll-container::-webkit-scrollbar {
            display: none;
        }

    .category-pill {
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 0.75rem;
        min-width: 80px;
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        text-decoration: none !important;
        cursor: pointer;
    }

    .category-pill-icon {
        width: 68px;
        height: 68px;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 1.8rem;
        background: #f8fafc;
        border-radius: 24px;
        transition: all 0.3s ease;
    }

    .category-pill span {
        font-size: 12px;
        font-weight: 700;
        color: #94a3b8;
        text-transform: uppercase;
        letter-spacing: 0.5px;
    }

    .category-pill-active .category-pill-icon {
        background: #F59E0B;
        color: white;
        box-shadow: 0 10px 25px -5px rgba(245, 158, 11, 0.4);
        transform: translateY(-5px);
    }

    .category-pill-active span {
        color: #F59E0B;
    }

    .category-pill:not(.category-pill-active):hover .category-pill-icon {
        background: #f1f5f9;
        transform: translateY(-3px);
    }
</style>

<section id="menu" class="py-24 bg-gradient-to-b from-gray-50 to-white">
    <div class="container mx-auto px-6">
        <div class="text-center mb-20">
            <h2 class="text-5xl md:text-6xl font-display font-bold text-gray-900 mb-5">Menu món ăn</h2>
            <div class="w-24 h-1.5 bg-gradient-to-r from-red-500 to-red-700 mx-auto mb-6 rounded-full"></div>
            <p class="text-gray-600 text-lg md:text-xl font-light">Các món ăn đặc sắc của nhà hàng</p>
        </div>

        @* Category Filter *@
        @if (ViewBag.AllCategories != null && ((List<Project_65133141.Models.DanhMuc>)ViewBag.AllCategories).Count > 0)
        {
            <div class="category-scroll-container mb-12">
                <div class="category-pill category-pill-active" data-category="all" onclick="filterByCategory('all')">
                    <div class="category-pill-icon">📚</div>
                    <span>Tất cả</span>
                </div>

                @foreach (var cat in (List<Project_65133141.Models.DanhMuc>)ViewBag.AllCategories)
                {
                    var upperName = (cat.TenDanhMuc ?? "").ToUpperInvariant();
                    string icon = "🍽️";

                    if (upperName.Contains("SASHIMI")) { icon = "🥢"; }
                    else if (upperName.Contains("SUSHI") || upperName.Contains("SHUSHI")) { icon = "🍣"; }
                    else if (upperName.Contains("CƠM") || upperName.Contains("MÌ")) { icon = "🍜"; }
                    else if (upperName.Contains("TEISHOKU")) { icon = "🍱"; }
                    else if (upperName.Contains("UỐNG") || upperName.Contains("NƯỚC")) { icon = "🥤"; }
                    else if (upperName.Contains("TRÁNG MIỆNG")) { icon = "🍰"; }

                    <div class="category-pill" data-category="@cat.DanhMucID" onclick="filterByCategory(@cat.DanhMucID)">
                        <div class="category-pill-icon">@icon</div>
                        <span>@cat.TenDanhMuc</span>
                    </div>
                }
            </div>
        }

        @if (ViewBag.FeaturedProducts != null && ((List<Project_65133141.Models.MonAn>)ViewBag.FeaturedProducts).Count > 0)
        {
            <div class="grid md:grid-cols-3 gap-8" id="products-grid">
                @foreach (var product in (List<Project_65133141.Models.MonAn>)ViewBag.FeaturedProducts)
                {
                    var categories = ViewBag.Categories as Dictionary<long, string>;
                    var categoryName = categories != null && categories.ContainsKey(product.DanhMucID)
                        ? categories[product.DanhMucID]
                        : "Khác";

                    var gradientClass = "from-gray-400 to-gray-600";

                    // Set gradient based on category
                    if (categoryName.Contains("SUSHI") || categoryName.Contains("SHUSHI"))
                    {
                        gradientClass = "from-pink-400 via-pink-500 to-pink-600";
                    }
                    else if (categoryName.Contains("CƠM") || categoryName.Contains("MÌ"))
                    {
                        gradientClass = "from-orange-400 via-orange-500 to-orange-600";
                    }
                    else if (categoryName.Contains("UỐNG"))
                    {
                        gradientClass = "from-teal-400 via-teal-500 to-cyan-600";
                    }
                    else if (categoryName.Contains("TRÁNG MIỆNG"))
                    {
                        gradientClass = "from-purple-400 via-purple-500 to-purple-600";
                    }
                    else
                    {
                        gradientClass = "from-blue-400 via-blue-500 to-blue-600";
                    }

                    <div class="bg-white rounded-2xl shadow-lg overflow-hidden hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-2 group product-card" data-category="@product.DanhMucID">
                        <div class="h-56 bg-gradient-to-br @gradientClass flex items-center justify-center relative overflow-hidden">
                            <div class="absolute inset-0 bg-black opacity-0 group-hover:opacity-10 transition-opacity"></div>
                            @if (!string.IsNullOrWhiteSpace(product.HinhAnh))
                            {
                                var imagePath = product.HinhAnh;
                                if (!imagePath.StartsWith("~/") && !imagePath.StartsWith("/") && !imagePath.StartsWith("http"))
                                {
                                    imagePath = "~/Images/Products/" + imagePath;
                                }
                                <img src="@Url.Content(imagePath)" alt="@product.TenMon" class="w-full h-full object-cover transform group-hover:scale-110 transition-transform duration-300" />
                            }
                            else
                            {
                                <span class="text-7xl transform group-hover:scale-110 transition-transform duration-300 relative z-10">🍽️</span>
                            }
                            
                            @* Discount Badge *@
                            @if (product.GiaGiam.HasValue && product.GiaGiam.Value > 0 && product.GiaGiam.Value < product.GiaGoc)
                            {
                                var badgeDiscountPercent = (int)Math.Round(100 - (product.GiaGiam.Value / product.GiaGoc) * 100);
                                <div class="absolute top-3 right-3 z-10">
                                    <span class="bg-red-600 text-white text-xs font-black px-3 py-1 rounded-xl uppercase shadow-lg">
                                        -@badgeDiscountPercent%
                                    </span>
                                </div>
                            }
                        </div>
                        <div class="p-6">
                            <h3 class="text-2xl font-bold mb-3 text-gray-900">@product.TenMon</h3>
                            <p class="text-gray-600 mb-5 leading-relaxed line-clamp-2">@(product.MoTa ?? "Món ăn đặc sắc")</p>
                            <div class="flex justify-between items-center">
                                <div class="flex items-baseline gap-3">
                                    @if (product.GiaGiam.HasValue && product.GiaGiam.Value > 0 && product.GiaGiam.Value < product.GiaGoc)
                                    {
                                        var discountPercent = (int)Math.Round(100 - (product.GiaGiam.Value / product.GiaGoc) * 100);
                                        <span class="text-2xl font-bold text-red-600">@String.Format("{0:N0}đ", product.GiaGiam)</span>
                                        <span class="text-lg text-gray-400 line-through ml-2">@String.Format("{0:N0}đ", product.GiaGoc)</span>
                                    }
                                    else
                                    {
                                        <span class="text-2xl font-bold text-red-600">@String.Format("{0:N0}đ", product.GiaGoc)</span>
                                    }
                                </div>
                            </div>
                        </div>
                    </div>
                }
            </div>
        }
        else
        {
            <div class="text-center py-12">
                <p class="text-gray-500 text-xl">Hiện chưa có món ăn nào được hiển thị</p>
            </div>
        }
    </div>
</section>

<script>
    // Category filter functionality
    function filterByCategory(categoryId) {
        const productCards = document.querySelectorAll('.product-card');
        const categoryPills = document.querySelectorAll('.category-pill');

        // Update active pill
        categoryPills.forEach(pill => {
            if (pill.getAttribute('data-category') == categoryId) {
                pill.classList.add('category-pill-active');
            } else {
                pill.classList.remove('category-pill-active');
            }
        });

        // Filter products
        productCards.forEach(card => {
            const productCategory = card.getAttribute('data-category');
            if (categoryId === 'all' || productCategory == categoryId) {
                card.style.display = '';
                card.style.opacity = '1';
                card.style.transform = 'scale(1)';
            } else {
                card.style.opacity = '0';
                card.style.transform = 'scale(0.95)';
                setTimeout(() => {
                    if (card.style.opacity === '0') {
                        card.style.display = 'none';
                    }
                }, 200);
            }
        });
    }
</script>

<section id="dat-ban" class="py-24 bg-gradient-to-br from-red-700 via-red-800 to-red-900 text-white relative overflow-hidden">
    <div class="absolute inset-0 opacity-10">
        <div class="absolute top-10 right-10 w-64 h-64 bg-white rounded-full blur-3xl"></div>
        <div class="absolute bottom-10 left-10 w-80 h-80 bg-white rounded-full blur-3xl"></div>
    </div>
    <div class="container mx-auto px-6 relative z-10">
        <div class="max-w-3xl mx-auto text-center">
            <h2 class="text-5xl md:text-6xl font-display font-bold mb-6">Đặt bàn ngay hôm nay</h2>
            <p class="text-xl md:text-2xl mb-10 text-red-100 font-light leading-relaxed">
                Đảm bảo có chỗ ngồi cho bạn và gia đình. Đặt bàn trước để nhận ưu đãi đặc biệt!
            </p>
            <div class="bg-white rounded-2xl p-8 md:p-10 text-gray-800 shadow-2xl">
                <form class="space-y-5">
                    <div class="grid md:grid-cols-2 gap-5">
                        <div>
                            <label class="block text-sm font-semibold mb-2 text-gray-700">Họ và tên</label>
                            <input type="text" class="w-full px-5 py-3.5 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-red-500 focus:border-red-500 transition-all outline-none" placeholder="Nhập họ tên">
                        </div>
                        <div>
                            <label class="block text-sm font-semibold mb-2 text-gray-700">Số điện thoại</label>
                            <input type="tel" class="w-full px-5 py-3.5 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-red-500 focus:border-red-500 transition-all outline-none" placeholder="Nhập số điện thoại">
                        </div>
                    </div>
                    <div class="grid md:grid-cols-2 gap-5">
                        <div>
                            <label class="block text-sm font-semibold mb-2 text-gray-700">Ngày</label>
                            <input type="date" class="w-full px-5 py-3.5 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-red-500 focus:border-red-500 transition-all outline-none">
                        </div>
                        <div>
                            <label class="block text-sm font-semibold mb-2 text-gray-700">Giờ</label>
                            <input type="time" class="w-full px-5 py-3.5 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-red-500 focus:border-red-500 transition-all outline-none">
                        </div>
                    </div>
                    <div>
                        <label class="block text-sm font-semibold mb-2 text-gray-700">Số người</label>
                        <select class="w-full px-5 py-3.5 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-red-500 focus:border-red-500 transition-all outline-none">
                            <option>1 người</option>
                            <option>2 người</option>
                            <option>3-4 người</option>
                            <option>5-6 người</option>
                            <option>Trên 6 người</option>
                        </select>
                    </div>
                    <button type="submit" class="w-full bg-gradient-to-r from-red-600 to-red-700 text-white py-4 rounded-xl text-lg font-bold hover:shadow-2xl transition-all duration-300 transform hover:scale-105">
                        Đặt bàn ngay
                    </button>
                </form>
            </div>
        </div>
    </div>
        </section>

<section id="giao-hang" class="py-20 bg-white">
    <div class="container mx-auto px-4">
        <div class="grid md:grid-cols-3 gap-8 text-center">
            <div>
                <div class="w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4">
                    <svg class="w-8 h-8 text-red-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"></path>
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"></path>
                    </svg>
                </div>
                <h3 class="text-xl font-semibold mb-2 text-gray-800">Địa chỉ</h3>
                <p class="text-gray-600">123 Đường ABC, Quận XYZ<br>Thành phố Hồ Chí Minh</p>
            </div>
            <div>
                <div class="w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4">
                    <svg class="w-8 h-8 text-red-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"></path>
                    </svg>
                </div>
                <h3 class="text-xl font-semibold mb-2 text-gray-800">Điện thoại</h3>
                <p class="text-gray-600">0123 456 789<br>0987 654 321</p>
            </div>
            <div>
                <div class="w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4">
                    <svg class="w-8 h-8 text-red-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                    </svg>
                </div>
                <h3 class="text-xl font-semibold mb-2 text-gray-800">Giờ mở cửa</h3>
                <p class="text-gray-600">Thứ 2 - Chủ nhật<br>11:00 - 22:00</p>
            </div>
        </div>
    </div>
</section>

<section id="map" class="py-20 bg-gray-50">
    <div class="container mx-auto px-4">
        <div class="text-center mb-12">
            <h2 class="text-4xl md:text-5xl font-display font-bold text-gray-900 mb-4">Vị trí của chúng tôi</h2>
            <div class="w-24 h-1.5 bg-gradient-to-r from-red-500 to-red-700 mx-auto mb-6 rounded-full"></div>
            <p class="text-gray-600 text-lg">Tìm đường đến nhà hàng của chúng tôi</p>
        </div>
        <div class="max-w-6xl mx-auto">
            <div class="rounded-2xl overflow-hidden shadow-2xl">
                <iframe 
                    src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d1808.271292567381!2d109.19133711570646!3d12.237793083925478!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x31706751435134f3%3A0x285dd6f1d429bec1!2z5LiA55Wq6LuSIFJhbWVuIEljaGliYW5rZW7jgJBOaGEgVHJhbmfjgJE!5e1!3m2!1sen!2s!4v1765718001181!5m2!1sen!2s"
                    height="450" 
                    style="border:0;" 
                    allowfullscreen="" 
                    loading="lazy" 
                    referrerpolicy="no-referrer-when-downgrade"
                    class="w-full">
                </iframe>
            </div>
        </div>
    </div>
</section>

<script>
    // Carousel functionality
    (function () {
        let currentSlide = 0;
        let slides = null;
        let indicators = null;
        let totalSlides = 0;
        let autoPlayInterval = null;
        let carouselContainer = null;

        function initCarousel() {
            slides = document.querySelectorAll('.carousel-slide');
            indicators = document.querySelectorAll('.carousel-indicator');
            carouselContainer = document.querySelector('.carousel-container');
            totalSlides = slides.length;

            console.log('Carousel initialized:', totalSlides, 'slides found');

            if (totalSlides > 0) {
                // Preload images
                slides.forEach((slide, index) => {
                    const img = slide.querySelector('img');
                    if (img && img.src) {
                        const preloadImg = new Image();
                        preloadImg.src = img.src;
                        console.log('Preloading slide', index + 1, ':', img.src);
                    }
                });

                // Show first slide
                showSlide(0);
                
                // Start autoplay
                startAutoPlay();
                console.log('Autoplay started - changing every 5 seconds');

                // Keyboard navigation
                document.addEventListener('keydown', function (e) {
                    if (e.key === 'ArrowLeft') {
                        changeSlide(-1);
                    } else if (e.key === 'ArrowRight') {
                        changeSlide(1);
                    }
                });

                // Pause on hover
                if (carouselContainer) {
                    carouselContainer.addEventListener('mouseenter', stopAutoPlay);
                    carouselContainer.addEventListener('mouseleave', startAutoPlay);
                }
            } else {
                console.error('No slides found!');
            }
        }

        function showSlide(index) {
            // Wrap around
            if (index >= totalSlides) {
                currentSlide = 0;
            } else if (index < 0) {
                currentSlide = totalSlides - 1;
            } else {
                currentSlide = index;
            }

            console.log('Showing slide', currentSlide + 1, 'of', totalSlides);

            // Update slides
            slides.forEach((slide, i) => {
                if (i === currentSlide) {
                    slide.classList.add('active');
                } else {
                    slide.classList.remove('active');
                }
            });

            // Update indicators - remove all active classes first, then add to current
            indicators.forEach((indicator) => {
                indicator.classList.remove('active');
            });
            if (indicators[currentSlide]) {
                indicators[currentSlide].classList.add('active');
            }
        }

        function changeSlide(direction) {
            showSlide(currentSlide + direction);
            resetAutoPlay();
        }

        window.changeSlide = changeSlide;

        function goToSlide(index) {
            showSlide(index);
            resetAutoPlay();
        }

        window.goToSlide = goToSlide;

        function startAutoPlay() {
            stopAutoPlay();
            autoPlayInterval = setInterval(() => {
                showSlide(currentSlide + 1);
            }, 5000);
        }

        function stopAutoPlay() {
            if (autoPlayInterval) {
                clearInterval(autoPlayInterval);
                autoPlayInterval = null;
            }
        }

        function resetAutoPlay() {
            stopAutoPlay();
            startAutoPlay();
        }

        // Initialize when DOM is ready
        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', initCarousel);
        } else {
            initCarousel();
        }
    })();
</script>
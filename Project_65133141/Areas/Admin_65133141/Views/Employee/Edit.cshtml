@model Project_65133141.Areas.Admin_65133141.Data.Form.AccountForm

@{
    ViewBag.Title = "Sửa thông tin nhân viên";
    Layout = "~/Areas/Admin_65133141/Views/Shared/_Layout.cshtml";
}

<div class="container mx-auto px-4 py-6">
    <!-- Header -->
    <div class="mb-6">
        <h1 class="text-3xl font-bold text-gray-900">Sửa thông tin nhân viên</h1>
        <p class="text-gray-600 mt-1">Cập nhật thông tin nhân viên</p>
    </div>

    <!-- Alert Messages -->
    @if (TempData["SuccessMessage"] != null)
    {
        ViewBag.AlertType = "success";
        ViewBag.AlertTitle = "Thành công!";
        ViewBag.IsDismissible = true;
        ViewBag.AutoHide = true;
        @Html.Partial("~/Views/Components/_Alert.cshtml", TempData["SuccessMessage"].ToString())
    }

    @if (TempData["ErrorMessage"] != null)
    {
        ViewBag.AlertType = "error";
        ViewBag.AlertTitle = "Lỗi!";
        ViewBag.IsDismissible = true;
        ViewBag.AutoHide = true;
        @Html.Partial("~/Views/Components/_Alert.cshtml", TempData["ErrorMessage"].ToString())
    }

    <!-- Form Card -->
    <div class="bg-white rounded-lg shadow-md overflow-hidden">
        @using (Html.BeginForm("Edit", "Employee", new { area = "Admin_65133141" }, FormMethod.Post, new { @class = "p-6" }))
        {
            @Html.AntiForgeryToken()
            @Html.HiddenFor(m => m.Id)
            @Html.ValidationSummary(true, "", new { @class = "text-red-600 mb-4" })

            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <!-- Họ tên -->
                <div>
                    @Html.LabelFor(m => m.FullName, new { @class = "block text-sm font-medium text-gray-700 mb-1" })
                    @Html.TextBoxFor(m => m.FullName, new { @class = "w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500" })
                    @Html.ValidationMessageFor(m => m.FullName, "", new { @class = "text-red-600 text-sm mt-1" })
                </div>

                <!-- Email -->
                <div>
                    @Html.LabelFor(m => m.Email, new { @class = "block text-sm font-medium text-gray-700 mb-1" })
                    @Html.TextBoxFor(m => m.Email, new { @class = "w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500", type = "email" })
                    @Html.ValidationMessageFor(m => m.Email, "", new { @class = "text-red-600 text-sm mt-1" })
                </div>

                <!-- Số điện thoại -->
                <div>
                    @Html.LabelFor(m => m.PhoneNumber, new { @class = "block text-sm font-medium text-gray-700 mb-1" })
                    @Html.TextBoxFor(m => m.PhoneNumber, new { @class = "w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500" })
                    @Html.ValidationMessageFor(m => m.PhoneNumber, "", new { @class = "text-red-600 text-sm mt-1" })
                </div>

                <!-- Địa chỉ -->
                <div>
                    @Html.LabelFor(m => m.Address, new { @class = "block text-sm font-medium text-gray-700 mb-1" })
                    @Html.TextBoxFor(m => m.Address, new { @class = "w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500", placeholder = "Nhập địa chỉ nhân viên" })
                    @Html.ValidationMessageFor(m => m.Address, "", new { @class = "text-red-600 text-sm mt-1" })
                </div>

                <!-- Ngày sinh -->
                <div>
                    @Html.LabelFor(m => m.DateOfBirth, new { @class = "block text-sm font-medium text-gray-700 mb-1" })
                    @Html.TextBoxFor(m => m.DateOfBirth, "{0:yyyy-MM-dd}", new { @class = "w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500", type = "date" })
                    @Html.ValidationMessageFor(m => m.DateOfBirth, "", new { @class = "text-red-600 text-sm mt-1" })
                </div>

                <!-- Ngày vào làm -->
                <div>
                    @Html.LabelFor(m => m.StartDate, new { @class = "block text-sm font-medium text-gray-700 mb-1" })
                    @Html.TextBoxFor(m => m.StartDate, "{0:yyyy-MM-dd}", new { @class = "w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500", type = "date" })
                    @Html.ValidationMessageFor(m => m.StartDate, "", new { @class = "text-red-600 text-sm mt-1" })
                </div>

                <!-- Mật khẩu (optional) -->
                <div>
                    @Html.LabelFor(m => m.Password, new { @class = "block text-sm font-medium text-gray-700 mb-1" })
                    <span class="text-xs text-gray-500">(Để trống nếu không muốn thay đổi)</span>
                    @Html.PasswordFor(m => m.Password, new { @class = "w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500", placeholder = "Nhập mật khẩu mới" })
                    @Html.ValidationMessageFor(m => m.Password, "", new { @class = "text-red-600 text-sm mt-1" })
                </div>

                <!-- Xác nhận mật khẩu -->
                <div>
                    @Html.LabelFor(m => m.ConfirmPassword, new { @class = "block text-sm font-medium text-gray-700 mb-1" })
                    @Html.PasswordFor(m => m.ConfirmPassword, new { @class = "w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500", placeholder = "Xác nhận mật khẩu mới" })
                    @Html.ValidationMessageFor(m => m.ConfirmPassword, "", new { @class = "text-red-600 text-sm mt-1" })
                </div>
            </div>

            <!-- Buttons -->
            <div class="mt-6 flex items-center justify-end space-x-4">
                <a href="@Url.Action("Index", "Employee", new { area = "Admin_65133141" })" 
                   class="px-6 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors">
                    Hủy
                </a>
                <button type="submit" 
                        class="px-6 py-2 bg-gradient-to-r from-red-600 to-rose-600 hover:from-red-700 hover:to-rose-700 text-white rounded-lg transition-colors shadow-md hover:shadow-lg">
                    Cập nhật
                </button>
            </div>
        }
    </div>
</div>

@section Scripts {
    @Scripts.Render("~/bundles/jqueryval")
}

